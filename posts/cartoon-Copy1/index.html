<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel Thiessen">
<meta name="dcterms.date" content="2024-04-16">
<meta name="description" content="Evaluating ChatGPT’s ability to create trendy posts on Sidechat">

<title>My experience with LLMs - ChatGPT, can you be truly popular?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My experience with LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/thiessen2003"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/gabriel-thiessen/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">ChatGPT, can you be truly popular?</h1>
                  <div>
        <div class="description">
          Evaluating ChatGPT’s ability to create trendy posts on Sidechat
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">ChatGPT 4.0</div>
                <div class="quarto-category">Sidechat</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Gabriel Thiessen </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 16, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><img src="tweet.png" width="100%"> Prompt: Generate an image of ChatGPT writing a tweet</p>
<section id="chatgpt-is-cool-and-all-but-can-it-be-trendy" class="level2">
<h2 class="anchored" data-anchor-id="chatgpt-is-cool-and-all-but-can-it-be-trendy">ChatGPT is cool and all, but can it be trendy?</h2>
<p>If you have ever used a LLM such as ChatGPT 3.5, 4.0, or any other for whatever task (especially to write last-minute essays due 23:59), you probably agree with me: LLMs are AWESOME!</p>
<p>They can do basically everything: compute the multivariable integrals, write college-level essays, generate images, and the list goes on. However, one thing that came across my mind while thinking about LLM’s capabilities is, “Up to what degree can they simulate human behavior, especially in terms of communication?”</p>
</section>
<section id="turing-test-on-sidechat" class="level2">
<h2 class="anchored" data-anchor-id="turing-test-on-sidechat">Turing Test… on Sidechat!</h2>
<p><i>“In case you do not know who Alan Turing, let ChatGPT give you a brief explanation:</i></p><i>
<p>Alan Turing was a pioneering British mathematician, logician, and cryptanalyst who played a crucial role in the development of theoretical computer science and artificial intelligence. Born on June 23, 1912, in London, Turing is perhaps best known for his work during World War II at Bletchley Park, where he was instrumental in breaking the German Enigma code. This achievement is considered to have significantly shortened the war and saved countless lives.</p>
<p>Turing’s most famous theoretical contribution is the concept of the Turing machine, a hypothetical device that he proposed in 1936. This machine was intended to formalize the concept of computation and algorithm execution. The Turing machine is a fundamental model of a general-purpose computer, and Turing’s work laid the groundwork for the modern understanding of algorithms and computing.</p>
</i><p><i>In addition to his contributions to computing and cryptography, Turing proposed the Turing Test in 1950 as a measure of a machine’s ability to exhibit intelligent behavior indistinguishable from that of a human. This test remains a foundational idea in discussions of artificial intelligence.”</i></p>
<p>And it is this last paragraph that interests us the most for this specific article. As ChatGPT greatly expressed, the Turing Test is fundamentally a test, which was initially proposed as theoretical, that had as its primary goal to evaluate a machine’s skill to replicate human behavior, and this is how it is structured.</p>
<p><i> “The Turing Test, proposed by Alan Turing in 1950, is designed to assess a machine’s ability to exhibit intelligent behavior that is indistinguishable from that of a human. The test is structured as a form of the”imitation game,” which Turing described in his seminal paper titled “Computing Machinery and Intelligence.” Here’s how the Turing Test is typically structured:</i></p><i>
<p>Participants The test involves three participants:</p>
<p>A human judge - This person interacts with both a human and a machine and attempts to determine which is which based solely on their responses. A machine - The machine attempts to imitate human responses. A human foil - This person tries to help the judge by providing genuinely human responses. Communication The communication between the judge and the other two participants is typically conducted through a computer interface to ensure that the judge cannot derive clues from the voice, handwriting, or physical appearance of the human or the machine. This setup allows the focus to remain strictly on the linguistic capabilities of the participants.</p>
<p>Process The judge engages in a natural language conversation with both the machine and the human participant without knowing which is which. The conversations are usually text-based to prevent the judge from hearing a voice that could identify the human or machine. Each participant (the machine and the human foil) tries to convince the judge of their humanity. Objective The main objective of the Turing Test is for the machine to generate responses that are indistinguishable from those of a human. If the judge cannot reliably tell the machine from the human, the machine is said to have passed the Turing Test, demonstrating artificial intelligence that mimics human thinking or behavior closely enough to be mistaken for a human in conversational contexts.</p>
<p>Criticisms and Variations The Turing Test has been subject to various criticisms and interpretations:</p>
</i><p><i>Philosophical implications: Some argue it focuses more on deception than on true intelligence. Practicality and relevance: As AI has evolved, some scholars suggest that the Turing Test may not be the best measure of intelligence or that it should be updated or replaced with more relevant criteria focusing on specific intelligent behaviors. Despite these criticisms, the Turing Test remains a foundational concept in discussions of artificial intelligence and its development.” </i></p>
<p>Pretty interesting, right?</p>
</section>
<section id="turing-test-on-sidechat-1" class="level2">
<h2 class="anchored" data-anchor-id="turing-test-on-sidechat-1">Turing Test… on Sidechat</h2>
<p>Therefore, I will perform an adapted version of the Turing Test on ChatGPT. For this experiment, I will use Sidechat, a social media platform vastly used by Penn that is similar to Twitter. In Sidechat, student anonymously posts their thoughts, jokes, and opinions, and if you agree or like a certain post, you can upvote the post, making it more trendy. Thus, I will input specific Sidechat posts that were particularly trendy and ask ChatGPT 4.0 to generate a post designed to be viral on the platform. Therefore, let’s go to the test.</p>
</section>
<section id="the-sidechat-test" class="level2">
<h2 class="anchored" data-anchor-id="the-sidechat-test">The Sidechat Test</h2>
<p>In the following lines, you can check my interaction with ChatGPT to create the post:</p>
<p><strong>Me: ChatGPT, do you know what Sidechat is? </strong></p>
<p><i>ChatGPT: Sidechat is a mobile application that has become particularly popular on college campuses for its unique approach to social media. It allows students to anonymously share memes, jokes, confessions, and more with others from their university. To participate, students must log in using their university email, which grants access to a college-specific forum while keeping individual identities hidden​ (The Crimson)​​ (The Tufts Daily)​.</i></p><i>
<p>This platform is reminiscent of Yik Yak, another anonymous messaging app, but with a focus on specific college communities rather than a general geographic area. This targeted approach seems to foster a stronger sense of community, although it can also lead to issues with content moderation and the potential for spreading misinformation due to the anonymous nature of the posts​ (The Tufts Daily)​​ (TechCrunch)​.</p>
<p>Sidechat has been involved in some controversy, particularly with regards to its recent acquisition of Yik Yak. This merger was met with dissatisfaction from some users, primarily because Yik Yak used to be open to a broader audience and did not require school email verification, which Sidechat does. The merger has led to concerns about privacy and the limitation of the platform’s use to college students only​ (TechCrunch)​.</p>
</i><p><i>Despite these challenges, the platform has seen rapid growth at universities like Harvard, Tufts, and Brown, where it has been integrated into the social fabric of the campuses. The app is moderated, and it has specific guidelines that users must follow, though there have been concerns about the effectiveness and fairness of its moderation practices​ (The Crimson)​​ (The Tufts Daily)​​ (The Brown Daily Herald)​.</i></p>
<p><strong>IMPORTANT: In this specific interaction, I uploaded the three most popular Daily Pennsylvanian articles of the week alongside (which were “Penn, where dreams come to die,” “Penn’s College of Arts and Sciences considering changes to Sector, foundation, credit requirements,” and “Penn Fund donations down 21% from this time last year amid leadership crisis, donor backlash”) and three particularly trendy Sidechat posts</strong></p><strong>
<p>Additionally, I told ChatGPT that some important events that happened/will happen at Penn this week are advanced registration, Spring Fling, and the end of the semester.<strong></strong></p><strong>
<p><strong>Me: Considering all the information that I provided you, can you come up with three posts to virtualize on side chat? <strong></strong></strong></p><strong><strong>
<p><i>ChatGPT: “Who else thinks Metro Boomin should drop a tracklist as fire as our finals schedule?”</i></p>
<p>This was the post generated by ChatGPT. Thus, I will post it on Sidechat and check the results that it obtained in two days.</p>
</strong></strong></strong></strong></section><strong><strong><strong>
<section id="the-result" class="level2">
<h2 class="anchored" data-anchor-id="the-result">The result</h2>
<p>After approximately 2 hours, the post received 37 upvotes, which is a relatively good amount for a Sidechat post.</p>
<p><img src="sc.png" width="50%"></p>
<p>Two days after the post was made, it reached its peak popularity, which was 87 upvotes.</p>
<p><img src="post2.png" width="50%"></p>
<p>Overall, the result was not extremely positive, as a trendy post on Sidechat usually has around 500 upvotes. Still, it is quite interesting to see ChatGPT mimic human behavior and the language used amongst younger groups of college students.</p>
<p><strong>Thank you for reading!</strong></p>


</section>

</strong></strong></strong></main><strong><strong> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/thiessen2003\.github\.io\/comm4190_S24_Using_LLMs_Blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</strong></strong></div><strong><strong> <!-- /content -->




</strong></strong></body></html>