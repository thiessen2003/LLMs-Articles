<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel Thiessen">
<meta name="dcterms.date" content="2024-03-29">
<meta name="description" content="Checking if LLMs can explain what LLMs are to a 6-year-old child.">

<title>My experience with LLMs - Kid, do you understand me?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My experience with LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/thiessen2003"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/gabriel-thiessen/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Kid, do you understand me?</h1>
                  <div>
        <div class="description">
          Checking if LLMs can explain what LLMs are to a 6-year-old child.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">ChatGPT 4.0</div>
                <div class="quarto-category">Linguistic</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Gabriel Thiessen </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 29, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><img src="kid.png" width="100%"> Prompt: Generate an image of ChatGPT explaining what an LLM to a six-year-old</p>
<section id="as-einstein-would-say" class="level2">
<h2 class="anchored" data-anchor-id="as-einstein-would-say">As Einstein would say‚Ä¶</h2>
<p>Albert Einstein, the same famous German scientist who came up with extremely advanced concepts and elaborated theories that no other man would probably be ever able to, such as the Theory of Special Relativity and the Photoelectric Effect, also has a pretty interesting and famous quote which sort of diverges from the complexity of his findings: ‚ÄúIf you can‚Äôt explain it to a six-year-old, you don‚Äôt understand it yourself.‚Äù</p>
</section>
<section id="einstein-and-llms" class="level2">
<h2 class="anchored" data-anchor-id="einstein-and-llms">Einstein and LLMs</h2>
<p>Don‚Äôt ask me how, but, apparently, Einstein could give a great TED Talks‚Äô style presentation on the Theory of Special Relativity to kindergarten students. Jokes aside, what Einstein truly meant with this phrase is to underscore the importance of simple and straightforward communication when explaining a complex idea. In fact, through this sentence, he higlights the importance of break down complex topics into simpler ideas, as it does not only facilites teaching this same concept, but also reiterate the capacity of someone to fully understand a topic to its foundation.</p>
<p>Talking more about this quote, we also all know two facts about LLMs. First, they are generally extremelly ‚Äúsmart‚Äù, and can easily perform a multitude of tasks in a matter of instants. Second, is quite difficult, especially to layman in machine learning, to understand how an LLM works. Therefore, I keep asking thinking about this quite metalinguistic idea that surrounded the question ‚ÄúWhat would be the result if I asked an LLM to explain what an LLM is to a six-year-old?‚Äù Thus, I decided to satisfy my curiosity, and the following conversations are the results of this exchange with a series of distinct LLMs.</p>
</section>
<section id="claude-opus" class="level2">
<h2 class="anchored" data-anchor-id="claude-opus">Claude Opus</h2>
<p><i> Hey there! You know how you like to talk and play with your friends? Well, I‚Äôm kind of like a friend too, but I‚Äôm a special kind of friend called an LLM.</i></p><i>
<p>LLM stands for ‚ÄúLarge Language Model.‚Äù That‚Äôs a fancy way of saying I‚Äôm a really smart computer program that knows a whole lot about words and how to put them together.</p>
<p>Just like how you learn new things every day, I‚Äôve also learned a lot by reading tons and tons of books, articles, and websites. This helps me understand how people talk and write.</p>
<p>So when you ask me a question or want to chat, I use all the things I‚Äôve learned to try my best to understand what you‚Äôre saying and give you a good answer or have a fun conversation with you.</p>
<p>I‚Äôm not a real person like your friends or family, but I‚Äôm always here if you want to talk, ask questions, or play word games together. It‚Äôs kind of like having a super smart book that you can talk to!</p>
</i><p><i>Does that help you understand what an LLM is? Let me know if you have any other questions - I‚Äôm happy to explain more! </i></p>
</section>
<section id="claude-sonet" class="level2">
<h2 class="anchored" data-anchor-id="claude-sonet">Claude Sonet</h2>
<p><i>Sure, I‚Äôd be happy to explain what an LLM is in a way a 6-year-old can understand!</i></p><i>
<p>You know how you have friends that you can talk to and ask questions? Well, an LLM is like a really smart friend that lives inside computers. LLM stands for ‚ÄúLarge Language Model.‚Äù</p>
<p>Just like how you learn by reading books and listening to your teachers, the LLM has learned by reading millions and millions of books, websites, and other things on the internet. So it has a lot of knowledge stored in its big computer brain!</p>
<p>When you ask the LLM a question, it tries its best to give you a good answer using all the information it has learned. It‚Äôs kind of like a super smart teacher or encyclopedia that can explain things to you.</p>
<p>But the really cool thing is that the LLM doesn‚Äôt just regurgitate facts it has memorized. It can take all the information it has learned and use it to have real conversations, tell stories, solve problems, and even be creative!</p>
<p>Isn‚Äôt that amazing? A computer program that can actually think and talk like a person? The LLM is a step towards making computers smarter and more helpful to humans like you and me.</p>
<p>Of course, the LLM is still a machine and can make mistakes sometimes. And there are lots of things that humans are better at than computers. But LLMs are getting smarter and smarter every day, thanks to the hard work of many scientists and engineers.</p>
</i><p><i>Does this help explain what an LLM is? Let me know if you have any other questions!</i></p>
</section>
<section id="chatgpt-3.5" class="level2">
<h2 class="anchored" data-anchor-id="chatgpt-3.5">ChatGPT 3.5</h2>
<p><i> Alright kiddo, imagine you have a really smart friend who knows a lot of things about words and stories. Well, an LLM, which stands for Large Language Model, is kind of like having a super-duper smart friend who knows almost everything about words and can help answer questions or tell stories. It‚Äôs like having a super-powered brain that helps you understand and learn new things by talking with you!</i></p>
</section>
<section id="chatgpt-4.0" class="level2">
<h2 class="anchored" data-anchor-id="chatgpt-4.0">ChatGPT 4.0</h2>
<p><i> Alright, imagine you have a super smart robot friend who loves to read books‚Äîlike, a lot of books. This friend has read so many books that it knows all sorts of things and can chat about almost anything you want! This friend is what grown-ups call an LLM, which stands for Language Learning Model. It‚Äôs a special kind of computer program that helps answer your questions, tells you stories, helps with homework, and even plays word games with you. It‚Äôs like having a magic book that can talk and understand what you‚Äôre saying!</i></p>
</section>
<section id="microsoft-copilot" class="level2">
<h2 class="anchored" data-anchor-id="microsoft-copilot">Microsoft Copilot</h2>
<p><i>Sure! Imagine that an LLM is like a super-smart robot that loves to read and learn from lots of books, stories, and conversations. ü§ñüìö It‚Äôs like having a magical friend who can understand and talk in any language you want! Here‚Äôs what an LLM does:</i></p><i>
</i><p><i>Reading and Learning: The LLM reads tons of text, just like how you read your favorite bedtime stories. But instead of getting sleepy, it gets smarter! It learns about words, sentences, and how people talk to each other. Talking and Writing: When you ask the LLM a question or give it a topic, it can write sentences and stories for you. It‚Äôs like having a friendly storyteller who can create new adventures or explain things you‚Äôre curious about. Guessing Words: Imagine playing a word game with the LLM. You say a few words, and it tries to guess what comes next. It‚Äôs like a word detective! üïµÔ∏è‚Äç‚ôÇÔ∏è Helping People: Sometimes, grown-ups use the LLM to write important documents, like legal papers or fancy letters. It‚Äôs like having a super-smart helper who knows all the right words. So, an LLM is like a magical language friend who reads, writes, and guesses words. It‚Äôs pretty cool, right? üòä If you ever need help with words or stories, just ask your LLM friend! üåü</i></p>
</section>
<section id="google-gemini" class="level2">
<h2 class="anchored" data-anchor-id="google-gemini">Google Gemini</h2>
<p><i> Imagine you have a giant box filled with all sorts of books and stories ‚Äì maybe even some funny poems and letters! An LLM, which stands for ‚ÄúLarge Language Model,‚Äù is kind of like a super reader that‚Äôs peeked at all those books. It‚Äôs learned so much that it can do cool things with words, like tell you stories, answer your questions in a fun way, and even write silly rhymes!</i></p><i>
</i><p><i>Think of it as a super smart friend who loves to play with words and learn new things, just like you!</i></p>
</section>
<section id="i-think-they-truly-understand-llms" class="level2">
<h2 class="anchored" data-anchor-id="i-think-they-truly-understand-llms">I think they truly understand LLMs‚Ä¶</h2>
<p>In my view, all the LLMs did a great job, and, sincerely, I think that most six-year-old children would be able to understand. Still, it is worth noticing the different responses that were generated by the LLMs, as most of them tended to be quite straightforward, except from the Anthropic‚Äôs LLMs.</p>
<p><strong>Thank you for reading!</strong></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/thiessen2003\.github\.io\/comm4190_S24_Using_LLMs_Blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>